@import 'tailwindcss';
@import '@repo/ui/styles/theme.css';
@plugin "@tailwindcss/typography";

@source "../../../packages/ui/src";

@layer base {
  html,
  body {
    @apply leading-tight;
  }

  a:hover {
    @apply text-primary;
  }
}

@keyframes crt-scan-move {
  0% {
    background-position:
      0 0,
      0 -120%;
  }
  100% {
    background-position:
      0 0,
      0 120%;
  }
}

.crt-scanlines {
  position: relative;
  isolation: isolate;
}

.crt-scanlines::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;

  background-image:
    repeating-linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.04) 0,
      rgba(255, 255, 255, 0.04) 1px,
      rgba(0, 0, 0, 0.35) 1px,
      rgba(0, 0, 0, 0.35) 2px
    ),
    linear-gradient(
      to bottom,
      transparent 0%,
      rgba(56, 189, 248, 0.15) 40%,
      rgba(236, 72, 153, 0.18) 50%,
      transparent 60%
    );

  background-size:
    auto,
    100% 50%;
  background-repeat: repeat, no-repeat;

  mix-blend-mode: soft-light;
  opacity: 0.6;

  animation: crt-scan-move 6s linear infinite;
}

@media (prefers-reduced-motion: reduce) {
  .crt-scanlines::before {
    animation: none;
    opacity: 0.35;
  }
}

/* Shiki dual theme support */
.shiki {
  background-color: #f8f8f8 !important;
}

.shiki span {
  background-color: transparent !important;
}

.dark .shiki {
  background-color: #141415 !important;
}

.dark .shiki span {
  color: var(--shiki-dark) !important;
}
